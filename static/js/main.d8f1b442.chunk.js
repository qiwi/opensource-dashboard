(this["webpackJsonp@qiwi/dashboard"]=this["webpackJsonp@qiwi/dashboard"]||[]).push([[0],{134:function(e,t,n){var a={"./MuseoSans_100_italic.woff2":135,"./MuseoSans_100_normal.woff2":136,"./MuseoSans_300_italic.woff2":137,"./MuseoSans_300_normal.woff2":138,"./MuseoSans_500_italic.woff2":139,"./MuseoSans_500_normal.woff2":140,"./MuseoSans_700_italic.woff2":141,"./MuseoSans_700_normal.woff2":142,"./MuseoSans_900_italic.woff2":143,"./MuseoSans_900_normal.woff2":144};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=134},145:function(e,t,n){var a={"./MuseoSans_100_italic.woff":146,"./MuseoSans_100_normal.woff":147,"./MuseoSans_300_italic.woff":148,"./MuseoSans_300_normal.woff":149,"./MuseoSans_500_italic.woff":150,"./MuseoSans_500_normal.woff":151,"./MuseoSans_700_italic.woff":152,"./MuseoSans_700_normal.woff":153,"./MuseoSans_900_italic.woff":154,"./MuseoSans_900_normal.woff":155};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=145},408:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),c=n.n(o),i=n(4),l=n(68),s=n(14),u=n(12),d=n(5),p=function(){var e=Object(s.g)().pathname,t=Object(s.f)();return Object(d.jsx)(u.Header,{underline:!0,children:Object(d.jsx)(i.Flex,{width:1,height:1,justify:"space-between",children:Object(d.jsx)(i.FlexItem,{ml:6,children:Object(d.jsxs)(i.Flex,{height:1,children:[Object(d.jsx)(i.FlexItem,{align:"center",shrink:0,mr:11,children:Object(d.jsx)(i.Lnk,{href:window.location.href,children:Object(d.jsx)(i.Box,{as:"img",src:"https://static.qiwi.com/img/qiwi_com/header/qiwi-wallet-logo.svg",width:24,height:12})})}),Object(d.jsx)(i.FlexItem,{shrink:0,mr:6,children:Object(d.jsx)(u.HeaderMenu,{children:[{title:"Reporter",active:"/"===e,onClick:function(){return t.push("/")}},{title:"Crawler",onClick:function(){return t.push("/crawler")},active:"/crawler"===e}]})})]})})})})},j=n(24),b=n(40),f=n.n(b),x=function(e,t){return f.a.get("http://jslab-repocrawler-api.testing.qiwi.com/reporter/".concat(e),{params:t})},h=n(29),v=n.n(h),O=n(41),g=function(){var e=Object(O.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.a.post("http://jslab-repocrawler-api.testing.qiwi.com/crawler/stop",{},{headers:{"Magic-Auth":t}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(O.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.a.post("http://jslab-repocrawler-api.testing.qiwi.com/crawler/start",{},{headers:{"Magic-Auth":t}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w={getStatus:function(){var e=Object(O.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.a.get("http://jslab-repocrawler-api.testing.qiwi.com/crawler/status").then((function(e){return e.data.running})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),start:m,stop:g},y=function(e){var t=Object(a.useState)("idle"),n=Object(j.a)(t,2),r=n[0],o=n[1],c=Object(a.useState)(),i=Object(j.a)(c,2),l=i[0],s=i[1],u=Object(a.useState)(),d=Object(j.a)(u,2),p=d[0],b=d[1];return[Object(a.useCallback)((function(){return o("pending"),s(void 0),b(void 0),e.apply(void 0,arguments).then((function(e){s(e),o("success")})).catch((function(e){b(e),o("error")}))}),[]),r,l,p]},k=function(){var e=y(w.getStatus),t=Object(j.a)(e,3),n=t[0],r=t[1],o=t[2],c=y(w.stop),l=Object(j.a)(c,2),s=l[0],p=l[1],b=y(w.stop),f=Object(j.a)(b,2),x=f[0],h=f[1],v=Object(a.useState)(""),O=Object(j.a)(v,2),g=O[0],m=O[1];return Object(a.useEffect)((function(){n()}),[]),Object(d.jsx)(i.Flex,{mt:6,children:Object(d.jsx)(i.Block,{css:{width:"100%",padding:"48px"},children:"pending"===r||"pending"===p||"pending"===h?Object(d.jsx)("div",{children:"Loading..."}):Object(d.jsxs)(a.Fragment,{children:[Object(d.jsx)(i.Box,{mb:"24px",width:64,children:Object(d.jsx)(u.TextField,{title:"Secret",type:"password",value:g,onChange:m})}),Object(d.jsx)(i.Box,{width:64,children:Object(d.jsx)(u.Button,{type:"button",kind:"brand",size:"normal",text:!0===o?"\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043a\u0440\u0443\u0430\u043b\u0438\u043d\u0433":'"\u041d\u0430\u0447\u0430\u0442\u044c \u043a\u0440\u0443\u043b\u0438\u043d\u0433"',onClick:!0===o?function(){return s(g)}:function(){return x(g)}})})]})})})},_={type:"tree",depType:"default",packageNamePattern:"",source:"auto"},S={tree:_,usage:{type:"usage",depType:"default",packageNamePattern:"",source:"auto",versionRange:""},versions:{type:"versions",depType:"default",packageNamePattern:"",source:"auto",versionRange:""}},M=n(58),C=n(75),F=function(e){var t=e.data,n=e.setData;return Object(d.jsxs)("div",{children:[Object(d.jsx)(i.Box,{mb:"24px",width:64,children:Object(d.jsx)(u.TextField,{title:"packageNamePattern",type:"text",value:t.packageNamePattern,onChange:function(e){return n({type:"packageNamePattern",data:e})}})}),Object(d.jsx)(i.Box,{mb:"24px",children:Object(d.jsx)(u.RadioField,{title:"depType",options:[{label:"default",value:"default"},{label:"optional",value:"optional"},{label:"peer",value:"peer"},{label:"dev",value:"dev"},{label:"all",value:"all"}],value:t.depType,onChange:function(e){return n({type:"depType",data:e})}})}),Object(d.jsx)(i.Box,{mb:"24px",children:Object(d.jsx)(u.RadioField,{title:"source",options:[{label:"auto",value:"auto"},{label:"lock",value:"lock"},{label:"package",value:"package"}],value:t.source,onChange:function(e){return n({type:"source",data:e})}})})]})},T=function(e){var t=e.data,n=e.setData;return Object(d.jsxs)("div",{children:[Object(d.jsx)(i.Box,{mb:"24px",width:64,children:Object(d.jsx)(u.TextField,{title:"packageNamePattern",type:"text",value:t.packageNamePattern,onChange:function(e){return n({type:"packageNamePattern",data:e})}})}),Object(d.jsx)(i.Box,{mb:"24px",width:64,children:Object(d.jsx)(u.TextField,{title:"versionRange",type:"text",value:t.versionRange||"",onChange:function(e){return n({type:"versionRange",data:e})}})}),Object(d.jsx)(i.Box,{mb:"24px",children:Object(d.jsx)(u.RadioField,{title:"depType",options:[{label:"optional",value:"optional"},{label:"peer",value:"peer"},{label:"default",value:"default"},{label:"dev",value:"dev"},{label:"all",value:"all"}],value:t.depType,onChange:function(e){return n({type:"depType",data:e})}})}),Object(d.jsx)(i.Box,{mb:"24px",children:Object(d.jsx)(u.RadioField,{title:"source",options:[{label:"auto",value:"auto"},{label:"lock",value:"lock"},{label:"package",value:"package"}],value:t.source,onChange:function(e){return n({type:"source",data:e})}})})]})},N=function(e){var t=e.data,n=e.setData;return Object(d.jsxs)("div",{children:[Object(d.jsx)(i.Box,{mb:"24px",width:64,children:Object(d.jsx)(u.TextField,{title:"packageNamePattern",type:"text",value:t.packageNamePattern,onChange:function(e){return n({type:"packageNamePattern",data:e})}})}),Object(d.jsx)(i.Box,{mb:"24px",width:64,children:Object(d.jsx)(u.TextField,{title:"versionRange",type:"text",value:t.versionRange||"",onChange:function(e){return n({type:"versionRange",data:e})}})}),Object(d.jsx)(i.Box,{mb:"24px",children:Object(d.jsx)(u.RadioField,{title:"depType",options:[{label:"optional",value:"optional"},{label:"peer",value:"peer"},{label:"default",value:"default"},{label:"dev",value:"dev"},{label:"all",value:"all"}],value:t.depType,onChange:function(e){return n({type:"depType",data:e})}})}),Object(d.jsx)(i.Box,{mb:"24px",children:Object(d.jsx)(u.RadioField,{title:"source",options:[{label:"auto",value:"auto"},{label:"lock",value:"lock"},{label:"package",value:"package"}],value:t.source,onChange:function(e){return n({type:"source",data:e})}})})]})};function R(e,t){var n="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e)),a=document.createElement("a");a.setAttribute("href",n),a.setAttribute("download",t+".json"),document.body.appendChild(a),a.click(),a.remove()}var B,P=function(e,t){return"type"===t.type?S[t.data]:Object(C.a)(Object(C.a)({},e),{},Object(M.a)({},t.type,t.data))},q=function(){var e=Object(O.a)(v.a.mark((function e(t){var n,a,r,o,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.type,a=t.depType,r=t.packageNamePattern,o=t.source,c=(c=t.versionRange)||void 0,e.next=4,x(n,{depType:a,packageNamePattern:r,source:o,versionRange:c});case 4:R(e.sent,"".concat(n,"Report"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(a.useReducer)(P,_),t=Object(j.a)(e,2),n=t[0],r=t[1],o=y(q),c=Object(j.a)(o,2),l=c[0],s=c[1];return Object(d.jsx)(i.Flex,{mt:6,children:Object(d.jsxs)(i.Block,{css:{width:"100%",padding:"48px"},children:[Object(d.jsx)(i.Card,{width:1,height:14,mb:"32px",children:Object(d.jsx)(u.HeaderMenu,{children:[{title:"tree",active:"tree"===n.type,onClick:function(){return r({type:"type",data:"tree"})}},{title:"usage",active:"usage"===n.type,onClick:function(){return r({type:"type",data:"usage"})}},{title:"versions",active:"versions"===n.type,onClick:function(){return r({type:"type",data:"versions"})}}]})}),{tree:Object(d.jsx)(F,{data:n,setData:r}),usage:Object(d.jsx)(T,{data:n,setData:r}),versions:Object(d.jsx)(N,{data:n,setData:r})}[n.type],Object(d.jsx)(i.Box,{width:64,children:Object(d.jsx)(u.Button,{loading:"pending"===s,disabled:"pending"===s,type:"button",kind:"brand",size:"normal",text:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043e\u0442\u0447\u0435\u0442",onClick:function(){return l(n)}})})]})})},E=n(39);Object(i.injectGlobal)(i.reset,i.fonts,"\n  html, body, #root{\n    height: 100%;\n    font-size: 16px;\n  }\n  body {\n    background: #F9F9F9;\n    line-height: 20px;\n    font-family: 'Museo Sans', sans-serif;\n    font-weight: 500;\n    overflow-x: hidden;\n  }\n  \n  a {\n    text-decoration: none;\n  }\n  \n  textarea, select, input, button { outline: none; }\n  \n  * {\n    outline: 0\n  }\n  \n  hr {\n    border: 0;\n    height: 0;\n    border-top: 1px solid rgba(0, 0, 0, 0.1);\n    border-bottom: 1px solid rgba(255, 255, 255, 0.3);\n  }\n  \n  .noselect {\n  -webkit-touch-callout: none; /* iOS Safari */\n    -webkit-user-select: none; /* Safari */\n     -khtml-user-select: none; /* Konqueror HTML */\n       -moz-user-select: none; /* Firefox */\n        -ms-user-select: none; /* Internet Explorer/Edge */\n            user-select: none; /* Non-prefixed version, currently\n                                  supported by Chrome and Opera */\n  }\n");var I,L,U=Object(i.styled)("main")(B||(B=Object(E.a)(["\n  flex: 1 0 auto;\n"]))),z=Object(i.styled)("div")(I||(I=Object(E.a)(["\n  height: 100%;\n  width: 100%;\n"]))),A=Object(i.styled)("div")(L||(L=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: 0 auto;\n  max-width: 1280px;\n  min-width: 400px;\n  > * {\n    padding: 0 50px !important;\n  }\n"])));var H=function(){return Object(d.jsx)(i.CacheProvider,{value:i.cache,children:Object(d.jsx)(i.ThemeProvider,{theme:i.themes.orange,children:Object(d.jsx)(l.a,{children:Object(d.jsx)(z,{children:Object(d.jsxs)(U,{children:[Object(d.jsx)(p,{}),Object(d.jsx)(A,{children:Object(d.jsxs)(s.c,{children:[Object(d.jsx)(s.a,{path:"/crawler",children:Object(d.jsx)(k,{})}),Object(d.jsx)(s.a,{path:"/",children:Object(d.jsx)(D,{})})]})})]})})})})})};c.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(H,{})}),document.querySelector("#root"))}},[[408,1,2]]]);
//# sourceMappingURL=main.d8f1b442.chunk.js.map